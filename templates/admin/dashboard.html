<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Admin Dashboard - Secret Bay</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
  <style>
    body {
      background: #f8f9fa;
    }
    .dashboard-header {
      background: white;
      padding: 2rem 0;
      margin-bottom: 2rem;
      border-bottom: 1px solid #e5e5e5;
    }
    .stat-card {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: transform 0.2s, box-shadow 0.2s;
      border: 1px solid #e5e5e5;
      height: 100%;
    }
    .stat-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    }
    .stat-icon {
      width: 48px;
      height: 48px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    .stat-icon.products { background: #e3f2fd; color: #1976d2; }
    .stat-icon.users { background: #f3e5f5; color: #7b1fa2; }
    .stat-icon.orders { background: #e8f5e9; color: #388e3c; }
    .stat-icon.reviews { background: #fff3e0; color: #f57c00; }
    .stat-icon.pending { background: #fce4ec; color: #c2185b; }
    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 0.25rem;
    }
    .stat-label {
      font-size: 0.875rem;
      color: #666;
      margin-bottom: 1rem;
    }
    .quick-actions {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      border: 1px solid #e5e5e5;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  {% include 'navbar.html' %}
  
  <div class="dashboard-header">
    <div class="container">
      <h1 class="mb-2">Admin Dashboard</h1>
      <p class="text-muted mb-0">Manage your webstore from one central location</p>
    </div>
  </div>
  
  <div class="container my-4">
    <div class="row g-3">
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon products">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20"><path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/></svg>
          </div>
          <div class="stat-value">{{ stats['products_count'] or 0 }}</div>
          <div class="stat-label">Total Products</div>
          <a href="{{ url_for('admin_products') }}" class="btn btn-sm btn-primary">Manage Products</a>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon users">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20"><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/></svg>
          </div>
          <div class="stat-value">{{ stats['users_count'] or 0 }}</div>
          <div class="stat-label">Total Users</div>
          <a href="{{ url_for('admin_users') }}" class="btn btn-sm btn-primary">Manage Users</a>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon orders">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
          </div>
          <div class="stat-value">{{ stats['orders_count'] or 0 }}</div>
          <div class="stat-label">Total Orders</div>
          <a href="{{ url_for('admin_orders') }}" class="btn btn-sm btn-primary">View Orders</a>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon reviews">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
          </div>
          <div class="stat-value">{{ stats['approved_reviews'] or 0 }}</div>
          <div class="stat-label">Approved Reviews</div>
          <a href="{{ url_for('admin_reviews', status='approved') }}" class="btn btn-sm btn-primary">View Reviews</a>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon pending">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/></svg>
          </div>
          <div class="stat-value">{{ stats['pending_reviews'] or 0 }}</div>
          <div class="stat-label">Pending Reviews</div>
          <a href="{{ url_for('admin_reviews', status='pending') }}" class="btn btn-sm btn-danger">Review Now</a>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon reviews">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"/></svg>
          </div>
          <div class="stat-value">{{ stats['total_reviews'] or 0 }}</div>
          <div class="stat-label">Total Reviews</div>
          <a href="{{ url_for('admin_reviews', status='all') }}" class="btn btn-sm btn-primary">View All</a>
        </div>
      </div>
    </div>
    
    <div class="quick-actions">
      <h5 class="mb-3">Quick Actions</h5>
      <div class="d-flex flex-wrap gap-2">
        <a href="{{ url_for('admin_product_new') }}" class="btn btn-outline-primary">âž• Add New Product</a>
        <a href="{{ url_for('admin_reviews', status='pending') }}" class="btn btn-outline-danger">âœ“ Approve Reviews</a>
        <a href="{{ url_for('admin_orders') }}" class="btn btn-outline-success">ðŸ“‹ View Orders</a>
        <a href="{{ url_for('admin_users') }}" class="btn btn-outline-info">ðŸ‘¥ Manage Users</a>
      </div>
    </div>
  </div>
  
  {% include 'footer.html' %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
